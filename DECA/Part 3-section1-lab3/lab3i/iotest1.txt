LDR R0, [#-2] // load IRQ status
AND R0, #1 // test IRQ0
JEQ -2
MOV R0, #1
STR R0, [#-1] // reset IRQ0
MOV R0, #0
STR R0, [#-1] // stop reset
ADD R2, #1 // increment software counter
JMP -8

